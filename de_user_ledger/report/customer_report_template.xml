<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="de_customer_ledger_pdf_report">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">

                <div class="page">
                    <div class="text-center">
                        <h5>Sundry Debitor</h5>
                        <p>Group Summary</p>
                        <!--                                                <t t-foreach="request.env['res.users'].search([('id', '=', data['user_id'])])" t-as="prd">-->
                        <!--                                                    <strong>Name: </strong><span t-field="prd.name"/><br/>-->
                        <!--                                                    <strong>Address:</strong><span t-field="prd.street"/>-->
                        <!--                                                </t>-->
                        <!--                        <div class="row mt64">-->
                        <!--                            <div class="col-6" >-->
                        <!--                                <strong>User: </strong> <span t-esc="user.name"/>-->
                        <!--                            </div>-->
                        <!--                            <div class="col-6">-->
                        <!--                                <strong>Print Date: </strong> <span t-esc="print_date"/>-->
                        <!--                            </div>-->
                        <!--                        </div>-->
                        <p><span t-esc="data['start_date']" t-options="{'widget': 'date'}"/>  <strong> To </strong><span t-esc="data['end_date']" t-options="{'widget': 'date'}"/></p>
                    </div>
                    <!--                </div>-->
                    <table class="table table-sm" name="account_lines_table" style="font-size:12px;">
                        <!--                    <tr></tr>-->
                        <tr style="border:1px solid black;" >
                            <td rowspan="2" style="border:1px solid black;"><strong>Particulars</strong></td>
                            <td style="border:1px solid black;" class="text-center" colspan="2"><strong>Closing</strong></td>
                            <!--                        <td style="border-bottom:1px solid black;" class="text-right"><strong>Credit</strong></td>-->
                        </tr>
                        <tr style="border:1px solid black;">
                            <td style="border:1px solid black;" class="text-center"><strong>Debit</strong></td>
                            <td style="border:1px solid black;" class="text-center"><strong>Credit</strong></td>
                            <!--                        <td style="border-bottom:1px solid black;" class="text-right"><strong>Credit</strong></td>-->
                        </tr>
                        <tbody>
                            <tr t-foreach="users" t-as="user" style="font-size: 13px;" >
                                <t t-set="debit" t-value="get_user_debit(user)"/>
<!--                                <t t-set="credit" t-value="get_user_credit(user)"/>-->
                                <td style="font-weight:bold;border:none;" class="text-left"><span t-esc="user.name"/></td>

                                <td style="font-weight:bold;text-align:right;border:none;" ><t t-esc="'{0:,.2f}'.format(debit)"/></td>
                                <td style="font-weight:bold;text-align:right;"></td>
                                <!--                            <td class="text-center"></td>-->
                                <t t-set="customers_dict" t-value="get_users_customer(user)"/>
                                <tr t-foreach="customers_dict" t-as="val" style="font-size:11px;">
                                    <td style="border:none;" ><span style="border:none;margin-left:20px;" t-esc="val['partner']"/></td>
                                    <td style="font-weight:bold;text-align:right;border:none;"><span t-esc="'{0:,.2f}'.format(val['balance'])"/></td>
                                    <td class="text-center" style="font-weight:bold;border:none;"></td>
                                </tr>

                            </tr>

                        </tbody>
                    </table>
                </div>
            </t>
        </t>

    </template>
</odoo>
